# Practical-1 : Bash Script for Automated S3 File Upload

```jsx
Task: Bash Script for Automated S3 File Upload
Objective
Create a Bash script that uploads files to an Amazon S3 bucket using a structured date-based folder format, and configure it to run automatically every day at 12:00 AM IST.
 
Task Requirements
 
Bash Script Development

Write a Bash script that uploads a specified file (or set of files) to an S3 bucket.

The script must dynamically create the destination path in the following format based on the current date:
s3://<bucket-name>/YYYY/MM/DD/
 Example:
s3://example-bucket/2026/01/21/
```

**Documentation Followed:** https://medium.com/@gideonisbuilding/how-to-write-a-script-to-back-up-files-to-amazon-s3-bucket-using-bash-85e6708a2752

1. Configured AWS CLI in lo

[Bash.sh](http://Bash.sh) file:

```bash
#!/bin/bash

# --- Configuration ---
S3_BUCKET="my-example-demo-rohanmatre"
SOURCE_DIR="/home/rohan.matre/AWS"
S3_REGION="ap-south-1"
LOG_FILE="$HOME/s3_upload.log"

# --- Date Variables ---
YEAR=$(date +"%Y")
MONTH=$(date +"%m")
DAY=$(date +"%d")
TODAY=$(date +"%Y-%m-%d")

S3_PATH="s3://$S3_BUCKET/$YEAR/$MONTH/$DAY/"

# --- Logging ---
echo "----------------------------------------" >> "$LOG_FILE"
echo "Starting upload: $(date)" >> "$LOG_FILE"
echo "Destination: $S3_PATH" >> "$LOG_FILE"

# --- AWS CLI Check ---
if ! command -v aws >/dev/null 2>&1; then
    echo "[ERROR] AWS CLI not found. Please install it." >> "$LOG_FILE"
    exit 1
fi

# --- Main Upload Logic ---
echo "--- Starting S3 Upload for $TODAY ---" >> "$LOG_FILE"

aws s3 sync "$SOURCE_DIR" "$S3_PATH" --region "$S3_REGION" >> "$LOG_FILE" 2>&1

# --- Check upload status ---
if [ $? -eq 0 ]; then
    echo "[SUCCESS] Upload completed" >> "$LOG_FILE"
else
    echo "[FAILURE] Upload failed" >> "$LOG_FILE"
fi

echo "--- Finished: $(date) ---" >> "$LOG_FILE"
```

Medium Link: https://medium.com/@rohan.matre11/automating-daily-file-uploads-to-amazon-s3-using-bash-and-cron-b363a84c362d